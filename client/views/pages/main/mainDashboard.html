<template name="mainDashboard">
  <div class="wrapper wrapper-content sidebar-white mx-4">
    <div class="container-fluid ">
      <div class="row mb-5">
        <div class="col-lg-12">
          <button type="button" id="sidebarCollapse" class="btn btn-info">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>
      <div class="row align-items-center">
        <div class="col-lg-8">
          <!-- Breadcrumb -->
          <h2 class="breadcrumb-title">Dashboard Hello</h2>
        </div>
        <div class="col-lg-4">
          <form class="main">
            <div class="form-group has-search">
              <span class="fa fa-search form-control-feedback"></span>
              <input type="text" class="form-control" placeholder="Search">
            </div>
          </form>
        </div>
      </div>
      <div class="row user-wrapper mt-4 mx-3">
        <div class="col-lg-9 py-5 ">
          <h2 class="blue-text">Welcome Back, {{currentUser.username}}!</h2>
          <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.
            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6">
          <img src="newspaper.svg" alt="newspaper" class="img-fluid">
        </div>
      </div>
      {{#if $eq currentUser.profile.role 'Administrator'}}
      <div class="row mt-5">
        <div class="col-lg-3 mb-5">
          <div class="card-wrapper card-dark-blue">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num">{{countCompany}}</span> <span class="num-title">Companies</span><br>
            <a class="btn px-0" href="/clients"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
        <div class="col-lg-3 mb-5">
          <div class="card-wrapper card-light-blue">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num">{{countApi}}</span> <span class="num-title">API</span><br>
            <a class="btn px-0" href="/api"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
        <div class="col-lg-3 mb-5">
          <div class="card-wrapper card-violet">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num">{{countGood}}</span> <span class="num-title">Good APIs</span><br>
            <a class="btn px-0" href="/api"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
        <div class="col-lg-3 mb-5">
          <div class="card-wrapper card-pink">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num">{{countFail}}</span> <span class="num-title">Failed APIs</span><br>
            <a class="btn px-0" href="/api"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3">
          <div class="card-wrapper card-good">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num-title">Uptime</span> <span class="num">{{countUptime}}</span> <br>
            <a class="btn px-0" href="/api"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="card-wrapper card-bad">
            <div class="card-body-icon">
              <i class="fas fa-project-diagram" aria-hidden="true"></i>
            </div>
            <span class="num-title">Downtime</span> <span class="num">{{countDowntime}}</span> <br>
            <a class="btn px-0" href="/api"><i class="fas fa-tasks" aria-hidden="true"></i></a>
          </div>
        </div>
      </div>
      {{/if}}
      <div class="row connection-wrapper mt-4">
        <div class="col-lg-6">
          <div class="connection-col">
            <div class="row">
              <div class="col-lg-12">
                <h2>Good Connection</h2>
              </div>
            </div>
            <div class="row">
              {{#each apis}}
              {{#unless $eq this.responseTime 'FAIL'}}
              <div class="col-lg-10">
                <p>{{this.createdByName}} | {{this.apiName}}</p>

              </div>
              <div class="col-lg-2 text-right">
                <i class="fas fa-check-circle good-connection"></i>
              </div>
              {{/unless}}
              {{/each}}
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="connection-col">
            <div class="row">
              <div class="col-lg-12">
                <h2>Failed Connection</h2>
              </div>
            </div>
            <div class="row">
              {{#each apis}}
              {{#if $eq this.responseTime 'FAIL'}}
              <div class="col-lg-10">
                <p>{{this.createdByName}} | {{this.apiName}}</p>

              </div>
              <div class="col-lg-2 text-right">
                <i class="fas fa-times-circle failed-connection"></i>
              </div>
              {{/if}}
              {{/each}}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>